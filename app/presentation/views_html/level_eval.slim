.container-fluid.bg

  .row#courseInfo
    .col(style="margin: 2vw;")
      h2.text-center Welcome to Planet #{map.map_name}!ğŸª
      .card(style='background-color:#0F2540; border-radius: 0.25rem; color: white;')
        .card-body
          p
            strong ã€Planet Nameã€‘:
            = map.map_name
          p
            strong ã€Planet Descriptionã€‘:
            = map.map_description
          p
            strong ã€Exploration Assessmentã€‘:
            = map.map_evaluation
          p
            strong ã€AI POLICYã€‘:
            = map.map_ai
          p.text-muted Tip: Every successful explorer needs a diverse set of skills. Letâ€™s evaluate your abilities to ensure youâ€™re ready for this journey!
      .d-flex.justify-content-center.mt-3
        button.btn.btn-primary#goToSkillsBtn type="button" Proceed to Skills AssessmentğŸš€

  / Skills Survey - é è¨­éš±è—
  .row#skillsSurvey(style="display:none")
    .col-12(style="margin: 2vw 0;")
        h2.text-center  Skills Survey
        .col-12(style="border-radius: 0.25rem; width= 80vw; padding: 1rem; ")
          form#skillsForm role="form" method="post" action="/RoutePlanner"
            table.table.table-hover#skills_table(style="background-color: #0F2540; color: white;")
              thead
                tr
                  th Skill
                  th colspan="5" Self assessment
              tbody
                - if skills.any?
                  - skills.each do |skill|
                    tr
                      td = skill
                      td
                        input type="radio" name="#{map.map_name}_skills[#{skill}]" value="80" id="#{skill}_familiar"
                        label for="#{skill}_familiar" Expert
                      td
                        input type="radio" name="#{map.map_name}_skills[#{skill}]" value="60" id="#{skill}_average"
                        label for="#{skill}_average" Proficient
                      td
                        input type="radio" name="#{map.map_name}_skills[#{skill}]" value="40" id="#{skill}_basic"
                        label for="#{skill}_basic" Basic
                      td
                        input type="radio" name="#{map.map_name}_skills[#{skill}]" value="20" id="#{skill}_aware"
                        label for="#{skill}_aware" Aware
                      td
                        input type="radio" name="#{map.map_name}_skills[#{skill}]" value="1" id="#{skill}_unaware"
                        label for="#{skill}_unaware" Unaware
                - else
                  tr
                    td colspan="6" No skills available
            .d-flex.justify-content-center.gap-3.mt-3
              button.btn.btn-secondary#goToCourseBtn type="button" Review planet introduction
              button.btn.btn-primary type="submit"  Begin the Journey!


/ JavaScript æ§åˆ¶é é¢é‚è¼¯
javascript:
    document.addEventListener("DOMContentLoaded", function () {
    const courseInfo = document.getElementById("courseInfo");
    const skillsSurvey = document.getElementById("skillsSurvey");
    const goToSkillsBtn = document.getElementById("goToSkillsBtn");
    const goToCourseBtn = document.getElementById("goToCourseBtn");

    // åˆ‡æ›åˆ° Skills Survey é é¢
    goToSkillsBtn.addEventListener("click", function () {
      courseInfo.style.display = "none";
      skillsSurvey.style.display = "block";
    });

    // è¿”å› Course Info é é¢
    goToCourseBtn.addEventListener("click", function () {
      skillsSurvey.style.display = "none";
      courseInfo.style.display = "block";
    });

    // è¡¨å–®æäº¤å‰æª¢æŸ¥æ˜¯å¦æ¯å€‹æŠ€èƒ½éƒ½é¸æ“‡äº†
    document.getElementById("skillsForm").addEventListener("submit", function (event) {
      const rows = document.querySelectorAll("#skills_table tbody tr");
      let allSelected = true;

      rows.forEach((row) => {
        const radios = row.querySelectorAll("input[type='radio']");
        const selected = Array.from(radios).some((radio) => radio.checked);
        if (!selected) {
          allSelected = false;
          row.style.backgroundColor = "#ffcccc"; // æ¨™è¨˜æœªé¸æ“‡çš„è¡Œ
        } else {
          row.style.backgroundColor = ""; // é‡ç½®å·²é¸æ“‡è¡Œçš„é¡è‰²
        }
      });

      if (!allSelected) {
        event.preventDefault(); // é˜»æ­¢è¡¨å–®æäº¤
        alert("Please select an option for all skills."); // æç¤ºè¨Šæ¯
      }
    });
  });